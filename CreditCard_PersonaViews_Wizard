<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>

<style type="text/css">
.column {
  float: left;
  width: 33.33%;
}
/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}
.wizcontainer {
  overflow: hidden;
}
.filterDiv {
  float: left;
  display: none; /* Hidden by default */
}
/* The "show" class is added to the filtered elements */
.show {
  display: block;
}

.activated {
  background-color: red
}
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>

var filterValueMap = new Map();

        filterValueMap.set('shopping', 'CC_All-Round-Use');
        filterValueMap.set('allrounder', 'CC_All-Round-Use');
        filterValueMap.set('travel', 'CC_BASIC_TRAVEL');
        filterValueMap.set('deferred_payment', 'CC_Defpayments');
        filterValueMap.set('shopping-online', 'CC_ONLINE');
        filterValueMap.set('shopping-offline', 'CC_All-Round-Use');
        filterValueMap.set('travel-premium', 'CC_PREMIUM_TRAVEL');
        filterValueMap.set('travel-basic', 'CC_BASIC_TRAVEL');

var allValueObject = filterValueMap.entries();
  document.write(allValueObject.next().value,"<br>");

$(document).ready(function(){

  /*
   set dropdown current value to clicked value according to the value its key has
   from the filterValueMap
  */

  //set new dropdown value after click on the first level filter
    $("button.btn").click(function(){
        var fstcat_button = $(this).val();
        $("#category-dropdown").val(filterValueMap.get(fstcat_button)).change();
    });
  });


  function filterSelection(clicked) {
            var x = document.getElementsByClassName("filterDiv"); //collects all 2nd step names
            //if (clicked == "all") clicked = "";
            // Add the "show" class (display:block) to the filtered elements, and remove the "show" class from the elements that are not selected
            for (var i = 0; i < x.length; i++) {

              w3RemoveClass(x[i], "show");
              if (x[i].className.indexOf(clicked.split("-")[0]) > -1) w3AddClass(x[i], "show");
            }

            var l1 = $(".level1");
            console.log(l1);
            var l2 = $(".level2");
            for (var d = 0; d < l1.length; d++) {

              l1.eq(d).removeClass("activated");

              if (l1.eq(d).hasClass(clicked.split("-")[0])) l1.eq(d).addClass("activated");
            }
            for (var c = 0; c < l2.length; c++) {
                        l2.eq(c).removeClass("activated");
                            console.log("class l2 removed");
              if (l2.eq(c).hasClass(clicked)) l2.eq(c).addClass("activated");
            }
  }



  // Show filtered elements
  function w3AddClass(element, name) {
    var i, arr1, arr2;
    arr1 = element.className.split(" ");
    arr2 = name.split(" ");
    for (i = 0; i < arr2.length; i++) {
      if (arr1.indexOf(arr2[i]) == -1) {
        element.className += " " + arr2[i];
      }
    }
  }

  // Hide elements that are not selected
  function w3RemoveClass(element, name) {
    var i, arr1, arr2;
    arr1 = element.className.split(" ");
    arr2 = name.split(" ");
    for (i = 0; i < arr2.length; i++) {
      while (arr1.indexOf(arr2[i]) > -1) {
        arr1.splice(arr1.indexOf(arr2[i]), 1);
      }
    }
    element.className = arr1.join(" ");
  }

  // Add active class to the current control button (highlight it)
  /*var btnContainer = document.getElementById("myBtnContainer");

  var btns = btnContainer.getElementsByClassName("btn");
  for (var i = 0; i < btns.length; i++) {
    btns[i].addEventListener("click", function() {
      var current = document.getElementsByClassName("active");
      current[0].className = current[0].className.replace(" active", "");
      this.className += " active";
    });
  }*/


  </script>

</head>

<body>

<div class="row">
<div class="column">
  <div id="myBtnContainer">
    <p>What's your use case?</p>
    <button class="level1 btn shopping" value="shopping" onclick="filterSelection('shopping')"> Shopping</button>
    <button class="level1 btn allrounder" value="allrounder" onclick="filterSelection('allrounder')"> Allrounder</button>
    <button class="level1 btn travel" value="travel" onclick="filterSelection('travel')">Travel</button>
    <button class="level1 btn deferred_payment" value="deferred_payment" onclick="filterSelection('deferred_payment')">Defer Payment</button>
  </div>
  </div>

  <!-- The filterable elements. Note that some have multiple class names (this can be used if they belong to multiple categories) -->

  <div class="column">
  <div class="wizcontainer">
    <p>What's the best fit?</p>
    <button class="level2 filterDiv shopping-online" value="shopping-online" onclick="filterSelection('shopping-online')">Online</button>
    <button class="level2 filterDiv shopping-offline" value="shopping-offline" onclick="filterSelection('shopping-offline')">Offline</button>
    <button class="level2 filterDiv travel-basic" value="travel-basic" onclick="filterSelection('travel-basic')">Basic Travel</button>
    <button class="level2 filterDiv travel-premium" value="travel-premium" onclick="filterSelection('travel-premium')">Premium Travel</button>
  </div>
  </div>

<div class="column">
<!-- SLider if required
<div class="slidecontainer">
 <p>Which amount?</p>
  <input type="range" min="100" max="9000" value="2000" class="slider" id="credit_card_amount_slider"> -->
</br>
<p>currentView is:</script></p>

<div class="top-banner__category" style="">
  <label class="category-dropdown-label" for="category-dropdown"></label>
  <select id="category-dropdown" name="category" class="category-dropdown filter-panel-component col-md-6 col-xs-12" data-category-url="test" data-value="CC_PREMIUM_TRAVEL">
    <option data-min="200" data-max="150000" data-value="7500" data-min-display="200€" data-max-display="150.000€" data-tenure="36" data-tenure-unit-text="mois" data-tenure-unit-key="month" data-category-url="test" value="CC_All-Round-Use">All Round</option>
    <option data-min="200" data-max="150000" data-value="7500" data-min-display="200€" data-max-display="150.000€" data-tenure="36" data-tenure-unit-text="mois" data-tenure-unit-key="month" data-category-url="test" value="CC_BASIC_TRAVEL">Basic Travel</option>
    <option data-min="200" data-max="150000" data-value="7500" data-min-display="200€" data-max-display="150.000€" data-tenure="36" data-tenure-unit-text="mois" data-tenure-unit-key="month" data-category-url="test" value="CC_Defpayments">Deferred Payments</option>
    <option data-min="200" data-max="150000" data-value="7500" data-min-display="200€" data-max-display="150.000€" data-tenure="36" data-tenure-unit-text="mois" data-tenure-unit-key="month" data-category-url="test" value="CC_ONLINE">Online Shopping</option>
    <option data-min="200" data-max="150000" data-value="7500" data-min-display="200€" data-max-display="150.000€" data-tenure="36" data-tenure-unit-text="mois" data-tenure-unit-key="month" data-category-url="test" value="CC_PREMIUM_TRAVEL">Premium Travel</option>
  </select>
</div>

</div>
</div>
</div>
</body>
