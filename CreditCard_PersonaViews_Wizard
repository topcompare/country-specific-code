<style type="text/css">
.row:after {
  content: "";
  display: table;
  clear: both;
}

.column {
  float: left;
  width: 40%;
display: inline-block;
}
.btn {
background-color: #076b9c; /* TC Blue */
color: white;
display: block;
margin: 3px;
width: 40%;
 -webkit-transition-duration: 0.4s; /* Safari */
  transition-duration: 0.4s;
}

.myBtnContainer{
padding: 5%;
display: block;
}
.wizcontainer {
overflow: hidden;
padding: 5%;
vertical-align: top;
display: none;
}
.filterDiv {
background-color: #076b9c; /* TC Blue */
color: white;
  float: left;
margin: 3px;
  display: none; /* Hidden by default */
 -webkit-transition-duration: 0.4s; /* Safari */
  transition-duration: 0.4s;
}

/* The "show" class is added to the filtered elements */
.show {
  display: block;
}

.activated {
  background-color: #666;
  color: white;
display: block;
}

</style>

<script>

var filterValueMap = new Map();

        filterValueMap.set('shopping', 'CC_All-Round-Use');
        filterValueMap.set('allrounder', 'CC_All-Round-Use');
        filterValueMap.set('travel', 'CC_BASIC_TRAVEL');
        filterValueMap.set('deferred_payment', 'CC_Defpayments');
        filterValueMap.set('shopping-online', 'CC_ONLINE');
        filterValueMap.set('shopping-offline', 'CC_All-Round-Use');
        filterValueMap.set('travel-premium', 'CC_PREMIUM_TRAVEL');
        filterValueMap.set('travel-basic', 'CC_BASIC_TRAVEL');

$(document).ready(function(){
  /*
   set dropdown current value to clicked value according to the value its key has
   from the filterValueMap  */

  //set new dropdown value after click on a button
    $("button").click(function(){
        var clicked_button = $(this).val();
        $("#category-dropdown").val(filterValueMap.get(clicked_button)).change();
    });
  });

  function filterSelection(clicked) {
if ((clicked != "allrounder") && (clicked != "deferred_payment")) {
            $(".wizcontainer").show();
          }
else {$(".wizcontainer").hide();}

            var x = document.getElementsByClassName("filterDiv"); //collects all 2nd step names

            // Add the "show" class (display:block) to the filtered elements, and remove the "show" class from the elements that are not selected
            for (var i = 0; i < x.length; i++) {

              w3RemoveClass(x[i], "show");
              if (x[i].className.indexOf(clicked.split("-")[0]) > -1) w3AddClass(x[i], "show");
            }

            var l1 = $(".level1");
            console.log(l1);
            var l2 = $(".level2");
            for (var d = 0; d < l1.length; d++) {

              l1.eq(d).removeClass("activated");

              if (l1.eq(d).hasClass(clicked.split("-")[0])) l1.eq(d).addClass("activated");
            }
            for (var c = 0; c < l2.length; c++) {
                        l2.eq(c).removeClass("activated");
                            console.log("class l2 removed");
              if (l2.eq(c).hasClass(clicked)) l2.eq(c).addClass("activated");
            }
  }

  // Show filtered elements
  function w3AddClass(element, name) {
    var i, arr1, arr2;
    arr1 = element.className.split(" ");
    arr2 = name.split(" ");
    for (i = 0; i < arr2.length; i++) {
      if (arr1.indexOf(arr2[i]) == -1) {
        element.className += " " + arr2[i];
      }
    }
  }

  // Hide elements that are not selected
  function w3RemoveClass(element, name) {
    var i, arr1, arr2;
    arr1 = element.className.split(" ");
    arr2 = name.split(" ");
    for (i = 0; i < arr2.length; i++) {
      while (arr1.indexOf(arr2[i]) > -1) {
        arr1.splice(arr1.indexOf(arr2[i]), 1);
      }
    }
    element.className = arr1.join(" ");
  }
  </script>

<div class="row">
<div class="column">
  <div id="myBtnContainer">
    <p>What's your use case?</p>
    <button class="level1 btn shopping" value="shopping" onclick="filterSelection('shopping')"> Shopping</button>
    <button class="level1 btn allrounder" value="allrounder" onclick="filterSelection('allrounder')"> Allrounder</button>
    <button class="level1 btn travel" value="travel" onclick="filterSelection('travel')">Travel</button>
    <button class="level1 btn deferred_payment" value="deferred_payment" onclick="filterSelection('deferred_payment')">Defer Payment</button>
  </div>
  </div>

  <!-- The filterable elements. Note that some have multiple class names (this can be used if they belong to multiple categories) -->

  <div class="column">
  <div class="wizcontainer">
    <p>What's the best fit?</p>
    <button class="level2 btn filterDiv shopping-online" value="shopping-online" onclick="filterSelection('shopping-online')">Online</button>
    <button class="level2 btn filterDiv shopping-offline" value="shopping-offline" onclick="filterSelection('shopping-offline')">Offline</button>
    <button class="level2 btn filterDiv travel-basic" value="travel-basic" onclick="filterSelection('travel-basic')">Basic Travel</button>
    <button class="level2 btn filterDiv travel-premium" value="travel-premium" onclick="filterSelection('travel-premium')">Premium Travel</button>
  </div>
  </div>

</div>
