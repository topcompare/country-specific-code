<style>
/* --- Style to remove extra padding of the body and other containers outside the Free Content widget -- */

body>.free-text {
	background-color: #155072;
}

body .free-text .container>.row {
	padding: 0;
}

.container .top-banner__category {
	display: none;
}

body .free-text .container>.col-xs-12 {
	padding: 0;
}

body>.free-text>.container {
	padding-left: 0;
	padding-right: 0;
	overflow: hidden;
}

body>.free-text>.container>.row>.col-xs-12>.container-fluid {
	padding-right: 0;
	padding-left: 16px;
}


/* --- GENERAL -- */
.container-ccwizard {
	padding: 24px 0 8px 0;
	background-image: url('https://s3-eu-central-1.amazonaws.com/ceg-blogassets/blog/fr_BE/wp-content/uploads/2019/06/17131947/be-ccwizard-bgimage-compressed-952.jpg');
	background-size: 100%;
	background-repeat: no-repeat;
	background-position-y: bottom;
	background-position-x: right;
	height: 260px;
}

.container-buttons {
	/* This makes the buttons to aling in just one line */
	display: flex;
	justify-content: flex-start;
	/* ------------------------------------------------ */
	overflow: auto;
	white-space: nowrap;
	margin-left: 0;
	height: auto;
}

.ccwizard-buttons-normal {
	display: inline-block;
	background-color: white;
	border: 1px solid #979290;
	border-radius: 3px;
	box-shadow: inset 0px -4px 0px #DEDCD9;
	font-size: 16px;
	font-weight: bold;
	color: #6C6563;
	max-width: 128px;
	min-width: 128px;
	height: 48px;
	/* padding: 12px; */
	white-space: normal;
	margin-right: 16px;
	margin-bottom: 16px;
	line-height: 1em;
}

.ccwizard-buttons-selected {
	display: block;
	background-color: #56924B;
	border: none;
	border-radius: 3px;
	box-shadow: inset 0px -4px 0px #56924B;
	color: white;
}

.container-ccwizard p {
	font-size: 16px !important;
	font-weight: bold;
	color: white;
}

.ccwizard-helpicon {
	font-size: 23px;
	margin-right: 8px;
	cursor: pointer;
}

.title-container-desktop {
	display: inline-flex;
	color: white;
}

.title-container-desktop .title {
	font-size: 24px !important;
	margin-top: 0;
}

.ccwizard-marginright {
	display: none;
	background-color: #155072;
	border: #155072;
	width: 16px;
}

.ccwizard-nomarginright {
	margin-right: 0 !important;
}


/* ----------- MOBILE SPECIFIC ----------- */

.title-container-mobile {
	display: none;
	color: white;
	margin-bottom: 16px;
}

.container-ccwizard .title-container-mobile .title-mobile {
	font-size: 16px !important;
	text-decoration: underline;
	margin: 0 8px 0 4px;
}

.hide-chevron {
	display: none;
}


/* ----------- MEDIA QUERIES ----------- */
@media only screen and (max-device-width: 769px) {
	.container-ccwizard {
		background-image: none;
		height: auto;
	}
	.ccwizard-helpicon {
		margin-right: 2px;
		font-size: 16px;
	}
	.ccwizard-nomarginright {
		margin-right: 0 !important;
	}
	.ccwizard-marginright {
		display: block;
	}
}

@media only screen and (min-device-width: 320px) and (max-device-width: 480px) {
	.title-container-mobile {
		display: inline-flex;
	}
	.hide-chevron {
		display: block;
	}
	.title-container-desktop {
		display: none;
	}
	.container-ccwizard {
		background-image: none;
	}
}


/* ----------- DLP CUSTOMISATIONS ----------- */
/* Filter position swap */
.filter-panel-container {
	display: -webkit-box;
	display: -moz-box;
	display: -ms-flexbox;
	display: -webkit-flex;
	display: flex;
	-webkit-box-orient: vertical;
	-moz-box-orient: vertical;
	-webkit-flex-direction: column;
	-ms-flex-direction: column;
	flex-direction: column;
}

.filter-panel-container div:nth-of-type(6) {
	-webkit-box-ordinal-group: 2;
	-moz-box-ordinal-group: 2;
	-ms-flex-order: 2;
	-webkit-order: 2;
	order: 2;
}

.filter-panel-container hr:nth-of-type(2) {
	-webkit-box-ordinal-group: 1;
	-moz-box-ordinal-group: 1;
	-ms-flex-order: 1;
	-webkit-order: 1;
	order: 1;
}

.filter-panel-container hr {
	margin-left: 0;
	margin-right: 0;
}

/* Regain the space freed up */
.slider-set {
	height: unset;
}

/* Add missing € sign to input box and remove the labels from the slider */
input[name="Annualfee"].filter-panel-input-box {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='16px' width='85px'><text x='2' y='13' fill='black' font-size='14' font-family='arial'>€</text></svg>");
	background-repeat: no-repeat;
	background-position: right;
	background-position-x: 5px;
	padding-left: 20px;    
}

.range-limit-container {
	visibility: hidden
}

/* Add missing disabled apply buttons */
:lang(fr) .btn-primary-normal:disabled:before{
    content: "Non disponible"
}
:lang(nl) .btn-primary-normal:disabled:before{
    content: "Niet beschikbaar"
}

/* Allow custom sorting of filters. Sorted elements need to add the 'order' attribute */
.filter-panel-wrapper > div > div:nth-child(10) {
    display: flex;
    flex-direction: column;
    -webkit-box-orient: vertical;
    -moz-box-orient: vertical;
    -webkit-flex-direction: column;
    -ms-flex-direction: column;
}

/* Remove the bold from the bank labels */
label.provider-switch-name {
    font-weight: normal;
    cursor: pointer;
}

/* Remove the first column as it contains the score */
.metrics>div:nth-of-type(2) {
	display: none !important;
}

/* Make top-bar thinner */
.generic-design .top-banner__category {
	visibility: hidden !important;
	height: 1px;
}

@media (min-width: 992px) {
	.generic-design .top-banner {
		height: 50px !important
	}
}

@media (max-width: 992px) {
	/* Make mobile filter button bigger and white */
	.generic-design .top-banner-icon {
		font-size: 40px;
		cursor: pointer;
		color: white;
	}
}

/* The vertical header title is appearing too big. Not sure why. Forcing it to be smaller */
.top-banner__heading-header {
    font-size: 23px !important;
    font-weight: normal !important;
}

/* Style for the table of more details */
.cc-more-details {
	width: 100%;
}

.cc-more-details td:nth-child(1) {
	width: 40%;
}

.cc-more-details td:nth-child(2) {
	width: 10%;
}

.cc-more-details td:nth-child(3) {
	width: 50%;
}

.cc-more-details tr td {
	border-bottom: dotted 1px rgb(238, 238, 238);
	border-top: dotted 1px rgb(238, 238, 238);
	display: inline-enable;
	vertical-align: middle;
	min-height: 35px;
}
</style>


<div class="container-fluid container-ccwizard">
    <div class="title-container-desktop">
        <i class="ccwizard-helpicon m-cgg-icon--i-tooltip" title=""></i>
        <h3 class="title">Help me find the right credit card</h3>
    </div>

    <div class="title-container-mobile accordion active">
        <i class="ccwizard-helpicon m-cgg-icon--i-tooltip"></i>
        <h3 class="title-mobile">Help me find the right credit card</h3><i id="chevron"
            class="hide-chevron m-cgg-icon--chevron-up"></i>
    </div>

    <div class="panel" style="display: block;">
        <div id="wizard-level1">
            <p>I'm going to use my credit card for:</p>
            <div id="ccwizard-use-buttons" class="container-buttons">
                <button class="ccwizard-buttons-normal js-ccwizard-group" wizard-category="shopping" wizard-view="asdf">Shopping</button>
                <button class="ccwizard-buttons-normal js-ccwizard-final" wizard-category="all-round" wizard-view="asdf">All-round</button>
                <button class="ccwizard-buttons-normal js-ccwizard-group" wizard-category="travel" wizard-view="asdf">Travel</button>
                <button class="ccwizard-buttons-normal js-ccwizard-final ccwizard-nomarginright" wizard-category="defer-pay" wizard-view="asdf">Defer pay</button>
                <div class="ccwizard-marginright">&emsp;</div>
            </div>
        </div>

        <div id="wizard-level2">
            <div wizard-category="shopping" class="ccwizard-section" style="display: none;">
                <p>I'm going to be shopping:</p>
                <div class="container-buttons">
                    <button class="ccwizard-buttons-normal js-ccwizard-final" wizard-category="online" wizard-view="asdf">Online</button>
                    <button class="ccwizard-buttons-normal js-ccwizard-final" wizard-category="offline" wizard-view="asdf">Offline</button>
                </div>
            </div>
            <div wizard-category="travel" class="ccwizard-section" style="display: none;">
                <p>Which type of perks do you prefer:</p>
                <div class="container-buttons">
                    <button class="ccwizard-buttons-normal js-ccwizard-final" wizard-category="basic" wizard-view="asdf">Basic</button>
                    <button class="ccwizard-buttons-normal js-ccwizard-final" wizard-category="luxury" wizard-view="asdf">Luxury</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Script for adding filter category labels
function waitForElement(selector, callback){
    var poller1 = setInterval(function(){
	$jObject = jQuery(selector);
	if($jObject.length < 1){
	    return;
	}
	clearInterval(poller1);
	callback($jObject);
    },100);
}
// Customize the lines in this block
waitForElement('#filter-panel-product-subcategories-more', function() {
	// Unwrap the child elements in the load more section and clean the list of elements
	$("#filter-panel-product-subcategories-more>.provider-switch-container").unwrap();
	$('.filter-panel-wrapper > div > div:nth-child(10)').children().not('.provider-switch-container').remove();
	
	// Sort by setting the order attribute in the flex display
	$("[value=109]").parent().parent().css("order",14);
	$("[value=110]").parent().parent().css("order",15);
	$("[value=102]").parent().parent().css("order",8);
	$("[value=103]").parent().parent().css("order",7);
	$("[value=105]").parent().parent().css("order",9);
	$("[value=107]").parent().parent().css("order",13);
	$("[value=108]").parent().parent().css("order",12);
	$("[value=96]").parent().parent().css("order",1);
	$("[value=97]").parent().parent().css("order",4);
	$("[value=98]").parent().parent().css("order",2);
	$("[value=99]").parent().parent().css("order",3);
	$("[value=101]").parent().parent().css("order",6);
	$("[value=112]").parent().parent().css("order",18);
	$("[value=114]").parent().parent().css("order",16);
	$("[value=100]").parent().parent().css("order",5);
	$("[value=111]").parent().parent().css("order",17);
	$("[value=104]").parent().parent().css("order",10);
	$("[value=106]").parent().parent().css("order",11);
	$("[value=113]").parent().parent().css("order",19);

	// Add custom titltes to create sections in the filter list
	if (document.documentElement.lang == "fr-BE") {
		$(".filter-panel-group.providers").eq(1).append('<label style="order: 5">Assurances</label>');
		$(".filter-panel-group.providers").eq(1).append('<label style="order: 6">Autres</label>');
	} else if (document.documentElement.lang == "nl-BE") {
		$(".filter-panel-group.providers").eq(1).append('<label style="order: 5">Verzekeringen</label>');
		$(".filter-panel-group.providers").eq(1).append('<label style="order: 6">Andere</label>');
	}
	
	// Link the bank labels to the check box (todo; make permanent!)
	$(".provider-switch-container").each( function( index, value ) {
		var new_id = $(this).find("input").eq(0).val();
		$(this).find("input").eq(0).attr("id", new_id);
		$(this).find("label").eq(1).attr("for", new_id);
	});
});

// Script for results page modifications
function modCCresultstable() {
	if (!$("#unavailable-products").hasClass("lm-touched")) {
		// Only apply this once
		$("#unavailable-products").addClass("lm-touched");
		
		// Add missing disabled apply buttons
		$(".button-card-column.card-column.visible-lg.visible-md").each(function(){
		if ($(this).children().length == 0)
		 $(this).append('<button class="btn btn-primary-normal btn-text" disabled=""><span class="btn-text-span"></span></button>');
		});
		$(".button-card-column.card-column.visible-xs.visible-sm.col-xs-6").each(function(){
		if ($(this).children().length == 0)
		 $(this).append('<button class="btn btn-primary-normal btn-text" disabled=""><span class="btn-text-span"></span></button>');
		});
		
		// Hyphenate long words
		$('.show-more-container td').each(function() {
			var text = $(this).text();
			$(this).html(text.replace('verzekering', '&shy;verzekering'));
		});

		$('.column-secondary').each(function() {
			var text = $(this).text();
			$(this).html(text.replace('verzekering', '&shy;verzekering'));
		});
	}
}

$( document ).ready(function() {
	modCCresultstable();
	$("#results-container").bind("DOMSubtreeModified", function(e) {
		modCCresultstable();
	});
});

// Make the info box clickable and jump to the FAQ section
$(".ccwizard-helpicon").click(function() {
    $([document.documentElement, document.body]).animate({
        scrollTop: $(".product-know-how__panel__header").offset().top
    }, 500);
});

// START SCRIPT FOR THE ABOVE-THE-FOLD-WIZARD
// Script for hiding and showing depending on what button you select
$(".js-ccwizard-final").on("click", function () {
if (!$(this.closest("#wizard-level2")).length) {
    $("#wizard-level2 > .ccwizard-section").hide();
}
if (!$(this).hasClass("ccwizard-buttons-selected")) {
    var wizard_category = this.getAttribute("wizard-category");
    console.log("change results table " + wizard_category);
}
});

$(".js-ccwizard-group").on("click", function () {
if (!$(this).hasClass("ccwizard-buttons-selected")) {
    var wizard_category = this.getAttribute("wizard-category");
    console.log("try to open the container for " + wizard_category);
    $("#wizard-level2 > .ccwizard-section").hide();
    $("#wizard-level2 .ccwizard-section[wizard-category='" + wizard_category + "']").fadeIn('3000');
}
});

// Script for accordion on mobile
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
acc[i].addEventListener("click", function () {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.display === "block") {
	panel.style.display = "none";
    } else {
	panel.style.display = "block";
    }
});
}

// Script for changing the icon
$(function () {
$(".title-container-mobile").click(function () {
    $("#chevron").toggleClass("m-cgg-icon--chevron-down");
    $("#chevron").toggleClass("m-cgg-icon--chevron-up");
});
});

// Script for changing the button styles
$(".js-ccwizard-group,.js-ccwizard-final").on("click", function () {
if (!$(this.closest("#wizard-level2")).length) {
    $(".container-ccwizard .ccwizard-buttons-normal").removeClass("ccwizard-buttons-selected");
} else {
    $(this).siblings().removeClass("ccwizard-buttons-selected");
}
$(this).addClass("ccwizard-buttons-selected");
	var wizard_view = this.getAttribute("wizard-view");
	console.log("try to load the view called " + wizard_view);
	$("#category-dropdown").val(wizard_view);
	$("#category-dropdown").get(0).dispatchEvent(new Event('change'));

});
</script>
